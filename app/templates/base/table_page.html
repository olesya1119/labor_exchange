<div class="header-wrapper">
    <h1>{{active_page.name}}</h1>
    <div class="view-mode-switch">
        {% if request.args.get('view_mode', 'readonly') == 'readonly' %}
            <a href="?view_mode=editable{% for key, value in request.args.items() if key != 'view_mode' %}&{{ key }}={{ value }}{% endfor %}">
                <button class="emodji_button">✏️</button>
            </a>
        {% else %}
            <a href="?view_mode=readonly{% for key, value in request.args.items() if key != 'view_mode' %}&{{ key }}={{ value }}{% endfor %}">
                <button class="emodji_button">📖</button>
            </a>
        {% endif %}
    </div>
    
</div>

{% if request.args.get('view_mode', 'readonly') == 'editable' %}
    {% include "base/editable_table.html" %}
{% else %}
    {% include "base/readonly_table.html" %}
{% endif %}